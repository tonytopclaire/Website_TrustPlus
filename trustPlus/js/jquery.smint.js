!function () { $.fn.smint = function (t) { var i = $.extend({ scrollSpeed: 500, mySelector: "div" }, t); $(this).addClass("smint"); var s = new Array, e = 0, o = $(".smint").height(), a = $(".smint"), n = $(".smint a"), r = a.height(); if (i.scrollSpeed) var l = i.scrollSpeed; if (i.mySelector) var c = i.mySelector; return n.each(function (t) { var i = $(this).attr("href").split("#")[1]; $(this).hasClass("extLink") || $(this).attr("id", i), s.push(Array($(c + "." + i).position().top - o, $(c + "." + i).height() + $(c + "." + i).position().top, i)); var d = a.offset().top, v = function (e) { var n = $(window).scrollTop() + r; n > d + r ? (a.css({ position: "fixed", top: 0, left: 0, "background-color": "#3e3e3e" }).addClass("fxd"), $("body").css("padding-top", o)) : (a.css({ position: "relative", "background-color": "" }).removeClass("fxd"), $("body").css("padding-top", "0")), s[t][0] <= n && n <= s[t][1] && ("up" == e ? ($("#" + i).addClass("active"), $("#" + s[t + 1][2]).removeClass("active")) : t > 0 ? ($("#" + i).addClass("active"), $("#" + s[t - 1][2]).removeClass("active")) : void 0 == e && $("#" + i).addClass("active"), $.each(s, function (t) { i != s[t][2] && $("#" + s[t][2]).removeClass("active") })) }; v(), $(window).scroll(function () { var t = $(this).scrollTop() + r; t > e ? direction = "down" : e > t && (direction = "up"), e = t, v(direction), $(window).scrollTop() + $(window).height() == $(document).height() ? (n.removeClass("active"), $(".smint a:not('.extLink'):last").addClass("active")) : n.last().removeClass("active") }), $(this).on("click", function (t) { var i = a.height(); t.preventDefault(); var s = $(this).attr("href").split("#")[1], e = $(c + "." + s).offset().top - i; return $("html, body").stop().animate({ scrollTop: e }, l), $(this).hasClass("extLink") ? !1 : void 0 }), $(".intLink").on("click", function (t) { var i = a.height(); t.preventDefault(); var s = $(this).attr("href").split("#")[1]; if (a.hasClass("fxd")) var e = $(c + "." + s).position().top - i; else var e = $(c + "." + s).position().top - 2 * i; return $("html, body").stop().animate({ scrollTop: e }, l), $(this).hasClass("extLink") ? !1 : void 0 }) }) }, $.fn.smint.defaults = { scrollSpeed: 500, mySelector: "div" } }(jQuery);